{"ast":null,"code":"import _objectSpread from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from\"axios\";import React,{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfile=/*#__PURE__*/function(_Component){_inherits(EditProfile,_Component);var _super=_createSuper(EditProfile);function EditProfile(){var _this;_classCallCheck(this,EditProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loggedInUser:null,editedName:\"\",editedBreed:\"\",editedAge:\"\",editedStory:\"\",story:{}};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){var params=_this.props.match.params;var name=_this.state.editedName;var breed=_this.state.editedBreed;var age=_this.state.editedAge;var story=_this.state.editedStory;e.preventDefault();axios.put(\"http://localhost:5000/api/edit/\".concat(params.id),{name:name,breed:breed,age:age,story:story}).then(function(){_this.props.history.push(\"/profile/\".concat(_this.props.userInSession._id));}).catch(function(err){return console.log(err);});};_this.showForm=function(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:_this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:_this.handleChange,name:\"editedName\",value:_this.state.editedName})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Breed:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:_this.handleChange,name:\"editedBreed\",value:_this.state.editedBreed})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Age:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:_this.handleChange,name:\"editedAge\",value:_this.state.editedAge})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Tell your cat's story:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",onChange:_this.handleChange,name:\"editedStory\",value:_this.state.editedStory,cols:\"80\",rows:\"10\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Save\"})]});};return _this;}_createClass(EditProfile,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState(_objectSpread(_objectSpread({},this.state),{},{loggedInUser:nextProps[\"userInSession\"]}));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var params=this.props.match.params;axios.get(\"http://localhost:5000/api/editstory/\".concat(params.id)).then(function(response){_this2.setState({loggedInUser:_this2.props.userInSession?_this2.props.userInSession:null,editedName:response.data.name,editedBreed:response.data.breed,editedAge:response.data.age,editedStory:response.data.story});}).catch(function(error){return console.log(error.response.data);});console.log(this.props);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Your Profile\"}),this.showForm()]});}}]);return EditProfile;}(Component);export{EditProfile as default};","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/EditProfile.js"],"names":["axios","React","Component","EditProfile","state","loggedInUser","editedName","editedBreed","editedAge","editedStory","story","handleChange","e","setState","target","name","value","handleSubmit","params","props","match","breed","age","preventDefault","put","id","then","history","push","userInSession","_id","catch","err","console","log","showForm","nextProps","get","response","data","error"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\n\nexport default class EditProfile extends Component {\n  state = {\n    loggedInUser: null,\n    editedName: \"\",\n    editedBreed: \"\",\n    editedAge: \"\",\n    editedStory: \"\",\n    story: {},\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, loggedInUser: nextProps[\"userInSession\"] });\n  }\n\n  componentDidMount() {\n    const { params } = this.props.match;\n\n    axios\n      .get(`http://localhost:5000/api/editstory/${params.id}`)\n      .then((response) => {\n        this.setState({\n          loggedInUser: this.props.userInSession\n            ? this.props.userInSession\n            : null,\n          editedName: response.data.name,\n          editedBreed: response.data.breed,\n          editedAge: response.data.age,\n          editedStory: response.data.story,\n        });\n      })\n      .catch((error) => console.log(error.response.data));\n    console.log(this.props);\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    const { params } = this.props.match;\n    const name = this.state.editedName;\n    const breed = this.state.editedBreed;\n    const age = this.state.editedAge;\n    const story = this.state.editedStory;\n\n    e.preventDefault();\n    axios\n      .put(`http://localhost:5000/api/edit/${params.id}`, {\n        name,\n        breed,\n        age,\n        story,\n      })\n      .then(() => {\n        this.props.history.push(`/profile/${this.props.userInSession._id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  showForm = () => {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          Name:\n          <input\n            type=\"text\"\n            onChange={this.handleChange}\n            name=\"editedName\"\n            value={this.state.editedName}\n          />\n        </label>\n        <br />\n        <label>\n          Breed:\n          <input\n            type=\"text\"\n            onChange={this.handleChange}\n            name=\"editedBreed\"\n            value={this.state.editedBreed}\n          />\n        </label>\n        <br />\n        <label>\n          Age:\n          <input\n            type=\"number\"\n            onChange={this.handleChange}\n            name=\"editedAge\"\n            value={this.state.editedAge}\n          />\n        </label>\n        <br />\n        <label>Tell your cat's story:</label>\n        <br />\n        <textarea\n          type=\"text\"\n          onChange={this.handleChange}\n          name=\"editedStory\"\n          value={this.state.editedStory}\n          cols=\"80\"\n          rows=\"10\"\n        ></textarea>\n        <br />\n        <button>Save</button>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Edit Your Profile</h1>\n        {this.showForm()}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}