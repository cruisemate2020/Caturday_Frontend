{"ast":null,"code":"var _jsxFileName = \"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/EditProfile.js\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EditProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedInUser: null,\n      editedName: \"\",\n      editedBreed: \"\",\n      editedAge: \"\",\n      editedStory: \"\",\n      story: {}\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      const {\n        params\n      } = this.props.match;\n      const name = this.state.editedName;\n      const breed = this.state.editedBreed;\n      const age = this.state.editedAge;\n      const story = this.state.editedStory;\n      e.preventDefault();\n      axios.put(`${process.env.REACT_APP_SERVER_URL}/api/edit/${params.id}`, {\n        name,\n        breed,\n        age,\n        story\n      }).then(() => {\n        this.props.history.push(`/profile/${this.props.userInSession._id}`);\n      }).catch(err => console.log(err));\n    };\n\n    this.showForm = () => {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: this.handleChange,\n            name: \"editedName\",\n            value: this.state.editedName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Breed:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: this.handleChange,\n            name: \"editedBreed\",\n            value: this.state.editedBreed\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Age:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: this.handleChange,\n            name: \"editedAge\",\n            value: this.state.editedAge\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Tell your cat's story:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          onChange: this.handleChange,\n          name: \"editedStory\",\n          value: this.state.editedStory,\n          cols: \"80\",\n          rows: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this);\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state,\n      loggedInUser: nextProps[\"userInSession\"]\n    });\n  }\n\n  componentDidMount() {\n    const {\n      params\n    } = this.props.match;\n    axios.get(`${process.env.REACT_APP_SERVER_URL}/api/editstory/${params.id}`).then(response => {\n      this.setState({\n        loggedInUser: this.props.userInSession ? this.props.userInSession : null,\n        editedName: response.data.name,\n        editedBreed: response.data.breed,\n        editedAge: response.data.age,\n        editedStory: response.data.story\n      });\n    }).catch(error => console.log(error.response.data));\n    console.log(this.props);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), this.showForm()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/EditProfile.js"],"names":["axios","React","Component","EditProfile","state","loggedInUser","editedName","editedBreed","editedAge","editedStory","story","handleChange","e","setState","target","name","value","handleSubmit","params","props","match","breed","age","preventDefault","put","process","env","REACT_APP_SERVER_URL","id","then","history","push","userInSession","_id","catch","err","console","log","showForm","componentWillReceiveProps","nextProps","componentDidMount","get","response","data","error","render"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\n\nexport default class EditProfile extends Component {\n  state = {\n    loggedInUser: null,\n    editedName: \"\",\n    editedBreed: \"\",\n    editedAge: \"\",\n    editedStory: \"\",\n    story: {},\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, loggedInUser: nextProps[\"userInSession\"] });\n  }\n\n  componentDidMount() {\n    const { params } = this.props.match;\n\n    axios\n      .get(`${process.env.REACT_APP_SERVER_URL}/api/editstory/${params.id}`)\n      .then((response) => {\n        this.setState({\n          loggedInUser: this.props.userInSession\n            ? this.props.userInSession\n            : null,\n          editedName: response.data.name,\n          editedBreed: response.data.breed,\n          editedAge: response.data.age,\n          editedStory: response.data.story,\n        });\n      })\n      .catch((error) => console.log(error.response.data));\n    console.log(this.props);\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    const { params } = this.props.match;\n    const name = this.state.editedName;\n    const breed = this.state.editedBreed;\n    const age = this.state.editedAge;\n    const story = this.state.editedStory;\n\n    e.preventDefault();\n    axios\n      .put(`${process.env.REACT_APP_SERVER_URL}/api/edit/${params.id}`, {\n        name,\n        breed,\n        age,\n        story,\n      })\n      .then(() => {\n        this.props.history.push(`/profile/${this.props.userInSession._id}`);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  showForm = () => {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          Name:\n          <input\n            type=\"text\"\n            onChange={this.handleChange}\n            name=\"editedName\"\n            value={this.state.editedName}\n          />\n        </label>\n        <br />\n        <label>\n          Breed:\n          <input\n            type=\"text\"\n            onChange={this.handleChange}\n            name=\"editedBreed\"\n            value={this.state.editedBreed}\n          />\n        </label>\n        <br />\n        <label>\n          Age:\n          <input\n            type=\"number\"\n            onChange={this.handleChange}\n            name=\"editedAge\"\n            value={this.state.editedAge}\n          />\n        </label>\n        <br />\n        <label>Tell your cat's story:</label>\n        <br />\n        <textarea\n          type=\"text\"\n          onChange={this.handleChange}\n          name=\"editedStory\"\n          value={this.state.editedStory}\n          cols=\"80\"\n          rows=\"10\"\n        ></textarea>\n        <br />\n        <button>Save</button>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Edit Your Profile</h1>\n        {this.showForm()}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}