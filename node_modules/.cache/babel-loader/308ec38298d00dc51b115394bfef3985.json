{"ast":null,"code":"var _jsxFileName = \"/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinder.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PetFinder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      zipCode: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n    let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\"; // Call details\n\n    let type = \"cat\";\n    let status = \"adoptable\";\n    let location = \"location\"; // Call the API\n    // This is a POST request, because we need the API to generate a new token for us\n\n    fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n      method: \"POST\",\n      body: \"grant_type=client_credentials&client_id=\" + key + \"&client_secret=\" + secret,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (resp) {\n      // Return the response as JSON\n      return resp.json();\n    }).then(function (data) {\n      // Log the API data\n      console.log(\"token\", data); // Return a second API call\n      // This one uses the token we received for authentication\n\n      return fetch(\"https://api.petfinder.com/v2/animals?type=\" + type + \"&status=\" + status + \"&location=\" + zipCode, {\n        headers: {\n          Authorization: data.token_type + \" \" + data.access_token,\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      });\n    }).then(function (resp) {\n      // Return the API response as JSON\n      return resp.json();\n    }).then(function (data) {\n      // Log the pet data\n      console.log(\"pets\", data);\n    }).catch(function (err) {\n      // Log any errors\n      console.log(\"something went wrong\", err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"zipCode\",\n          placeholder: \"Zip Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinder.js"],"names":["React","Component","PetFinder","state","zipCode","componentDidMount","key","secret","type","status","location","fetch","method","body","headers","then","resp","json","data","console","log","Authorization","token_type","access_token","catch","err","render","handleSubmit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,eAAe,MAAMC,SAAN,SAAwBD,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAE/CE,KAF+C,GAEvC;AACJC,MAAAA,OAAO,EAAE;AADL,KAFuC;AAAA;;AAM/CC,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,GAAG,GAAG,oDAAV;AACA,QAAIC,MAAM,GAAG,0CAAb,CAFkB,CAIlB;;AACA,QAAIC,IAAI,GAAG,KAAX;AACA,QAAIC,MAAM,GAAG,WAAb;AACA,QAAIC,QAAQ,GAAG,UAAf,CAPkB,CASlB;AACA;;AACAC,IAAAA,KAAK,CAAC,2CAAD,EAA8C;AACjDC,MAAAA,MAAM,EAAE,MADyC;AAEjDC,MAAAA,IAAI,EACF,6CACAP,GADA,GAEA,iBAFA,GAGAC,MAN+C;AAOjDO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAPwC,KAA9C,CAAL,CAWGC,IAXH,CAWQ,UAAUC,IAAV,EAAgB;AACpB;AACA,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAdH,EAeGF,IAfH,CAeQ,UAAUG,IAAV,EAAgB;AACpB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB,EAFoB,CAIpB;AACA;;AACA,aAAOP,KAAK,CACV,+CACEH,IADF,GAEE,UAFF,GAGEC,MAHF,GAIE,YAJF,GAKEL,OANQ,EAOV;AACEU,QAAAA,OAAO,EAAE;AACPO,UAAAA,aAAa,EAAEH,IAAI,CAACI,UAAL,GAAkB,GAAlB,GAAwBJ,IAAI,CAACK,YADrC;AAEP,0BAAgB;AAFT;AADX,OAPU,CAAZ;AAcD,KAnCH,EAoCGR,IApCH,CAoCQ,UAAUC,IAAV,EAAgB;AACpB;AACA,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAvCH,EAwCGF,IAxCH,CAwCQ,UAAUG,IAAV,EAAgB;AACpB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;AACD,KA3CH,EA4CGM,KA5CH,CA4CS,UAAUC,GAAV,EAAe;AACpB;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCK,GAApC;AACD,KA/CH;AAgDD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBAAO;AAAA,6BACP;AAAM,QAAA,QAAQ,EAAE,KAAKC,YAArB;AAAA,gCACI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,SAAxB;AAAkC,UAAA,WAAW,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADO;AAAA;AAAA;AAAA;AAAA,YAAP;AAMD;;AA1E8C","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class PetFinder extends Component {\n\n  state = {\n      zipCode: \"\"\n  }\n\n  componentDidMount() {\n    let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n    let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\";\n\n    // Call details\n    let type = \"cat\";\n    let status = \"adoptable\";\n    let location = \"location\"\n\n    // Call the API\n    // This is a POST request, because we need the API to generate a new token for us\n    fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n      method: \"POST\",\n      body:\n        \"grant_type=client_credentials&client_id=\" +\n        key +\n        \"&client_secret=\" +\n        secret,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    })\n      .then(function (resp) {\n        // Return the response as JSON\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the API data\n        console.log(\"token\", data);\n\n        // Return a second API call\n        // This one uses the token we received for authentication\n        return fetch(\n          \"https://api.petfinder.com/v2/animals?type=\" +\n            type +\n            \"&status=\" +\n            status +\n            \"&location=\" +\n            zipCode,\n          {\n            headers: {\n              Authorization: data.token_type + \" \" + data.access_token,\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n          }\n        );\n      })\n      .then(function (resp) {\n        // Return the API response as JSON\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the pet data\n        console.log(\"pets\", data);\n      })\n      .catch(function (err) {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n  }\n\n  render() {\n    return <div>\n    <form onSubmit={this.handleSubmit}>\n        <input type=\"text\" name=\"zipCode\" placeholder=\"Zip Code\"/>\n        <button type=\"submit\">Search</button>\n        </form>\n    </div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}