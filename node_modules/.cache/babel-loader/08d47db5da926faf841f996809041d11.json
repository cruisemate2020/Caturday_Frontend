{"ast":null,"code":"var _jsxFileName = \"/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinderSearch.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PetFinderSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rescueCats: [],\n      location: \"\"\n    };\n\n    this.giveData = () => {\n      let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n      let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\"; // Call details\n\n      const type = \"cat\";\n      const status = \"adoptable\";\n      let location = this.state.location; // Call the API\n      // This is a POST request, because we need the API to generate a new token for us\n\n      fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n        method: \"POST\",\n        body: \"grant_type=client_credentials&client_id=\" + key + \"&client_secret=\" + secret,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(function (resp) {\n        // Return the response as JSON\n        return resp.json();\n      }).then(function (data) {\n        // Log the API data\n        // console.log(\"token\", data);\n        console.log(location); // Return a second API call\n        // This one uses the token we received for authentication\n\n        return fetch(\"https://api.petfinder.com/v2/animals?type=\" + type + \"&status=\" + status + \"&location=\" + location, {\n          headers: {\n            Authorization: data.token_type + \" \" + data.access_token,\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        });\n      }).then(function (resp) {\n        // Return the API response as JSON\n        console.log('');\n        return resp.json();\n      }).then(function (data) {\n        // Log the pet data\n        console.log(\"pets\", data);\n        this.setState({\n          rescueCats: data.animals\n        });\n      }).catch(function (err) {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.giveData();\n    };\n\n    this.handleLocation = e => {\n      console.log(\"hello: \", e.target.name, \"0-0-0-0-0-\", e.target.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      }, () => console.log(\"--------->\", this.state));\n    };\n\n    this.allAvailableRescueCats = () => {\n      return this.state.rescueCats.map(eachRescueCat => {\n        var _eachRescueCat$image;\n\n        console.log(eachRescueCat.image);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cat\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: (_eachRescueCat$image = eachRescueCat.image) === null || _eachRescueCat$image === void 0 ? void 0 : _eachRescueCat$image.url,\n              alt: \" unavailable\",\n              width: \"200vw\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: eachRescueCat.url,\n              children: eachRescueCat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this)\n        }, eachRescueCat._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"City or Zip Code\",\n          onChange: this.handleLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinderSearch.js"],"names":["React","Component","PetFinderSearch","state","rescueCats","location","giveData","key","secret","type","status","fetch","method","body","headers","then","resp","json","data","console","log","Authorization","token_type","access_token","setState","animals","catch","err","handleSubmit","e","preventDefault","handleLocation","target","name","value","allAvailableRescueCats","map","eachRescueCat","image","url","_id","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nexport default class PetFinderSearch extends Component {\n  state = {\n    rescueCats: [],\n    location: \"\",\n  };\n\n  giveData = () => {\n    let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n    let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\";\n\n    // Call details\n    const type = \"cat\";\n    const status = \"adoptable\";\n    let location = this.state.location;\n\n    // Call the API\n    // This is a POST request, because we need the API to generate a new token for us\n    fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n      method: \"POST\",\n      body:\n        \"grant_type=client_credentials&client_id=\" +\n        key +\n        \"&client_secret=\" +\n        secret,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    })\n      .then(function (resp) {\n        // Return the response as JSON\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the API data\n        // console.log(\"token\", data);\n        console.log(location);\n\n        // Return a second API call\n        // This one uses the token we received for authentication\n        return fetch(\n          \"https://api.petfinder.com/v2/animals?type=\" +\n            type +\n            \"&status=\" +\n            status +\n            \"&location=\" +\n            location,\n          {\n            headers: {\n              Authorization: data.token_type + \" \" + data.access_token,\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n          }\n        );\n      })\n      .then(function (resp) {\n        // Return the API response as JSON\n        console.log('')\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the pet data\n        console.log(\"pets\", data);\n        this.setState({rescueCats: data.animals})\n      })\n      .catch(function (err) {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.giveData();\n  };\n\n  handleLocation = (e) => {\n    console.log(\"hello: \", e.target.name, \"0-0-0-0-0-\", e.target.value);\n    this.setState({ [e.target.name]: e.target.value }, () =>\n      console.log(\"--------->\", this.state)\n    );\n  };\n\n  allAvailableRescueCats = () => {\n    return this.state.rescueCats.map((eachRescueCat) => {\n      console.log(eachRescueCat.image);\n      return (\n        <div key={eachRescueCat._id}>\n          <div className=\"cat\">\n            <img src={eachRescueCat.image?.url} alt=\" unavailable\" width=\"200vw\" />\n            <br />\n            <a href={eachRescueCat.url}>{eachRescueCat.name}</a>            \n          </div>\n        </div>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"location\"\n            placeholder=\"City or Zip Code\"\n            onChange={this.handleLocation}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}