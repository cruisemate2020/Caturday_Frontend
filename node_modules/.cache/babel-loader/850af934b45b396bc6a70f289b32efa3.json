{"ast":null,"code":"var _jsxFileName = \"/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinderSearch.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PetFinderSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      location: \"\"\n    };\n\n    this.giveData = () => {\n      let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n      let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\"; // Call details\n\n      const type = \"cat\";\n      const status = \"adoptable\";\n      let location = this.state.location; // Call the API\n      // This is a POST request, because we need the API to generate a new token for us\n\n      fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n        method: \"POST\",\n        body: \"grant_type=client_credentials&client_id=\" + key + \"&client_secret=\" + secret,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(function (resp) {\n        // Return the response as JSON\n        return resp.json();\n      }).then(function (data) {\n        // Log the API data\n        // console.log(\"token\", data);\n        console.log(location); // Return a second API call\n        // This one uses the token we received for authentication\n\n        return fetch(\"https://api.petfinder.com/v2/animals?type=\" + type + \"&status=\" + status + \"&location=\" + location, {\n          headers: {\n            Authorization: data.token_type + \" \" + data.access_token,\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        });\n      }).then(function (resp) {\n        // Return the API response as JSON\n        return resp.json();\n      }).then(function (data) {\n        // Log the pet data\n        console.log(\"pets\", data);\n      }).catch(function (err) {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.giveData();\n    };\n\n    this.handleLocation = e => {\n      console.log(\"hello: \", e.target.name, \"0-0-0-0-0-\", e.target.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      }, () => console.log(\"--------->\", this.state));\n    };\n\n    this.displayResults = () => {};\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"City or Zip Code\",\n          onChange: this.handleLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project/everyday-caturday/frontend/src/components/PetFinderSearch.js"],"names":["React","Component","PetFinderSearch","state","location","giveData","key","secret","type","status","fetch","method","body","headers","then","resp","json","data","console","log","Authorization","token_type","access_token","catch","err","handleSubmit","e","preventDefault","handleLocation","target","name","value","setState","displayResults","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class PetFinderSearch extends Component {\n  state = {\n    location: \"\",\n  };\n\n  giveData = () => {\n    let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n    let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\";\n\n    // Call details\n    const type = \"cat\";\n    const status = \"adoptable\";\n    let location = this.state.location;\n\n    // Call the API\n    // This is a POST request, because we need the API to generate a new token for us\n    fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n      method: \"POST\",\n      body:\n        \"grant_type=client_credentials&client_id=\" +\n        key +\n        \"&client_secret=\" +\n        secret,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    })\n      .then(function (resp) {\n        // Return the response as JSON\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the API data\n        // console.log(\"token\", data);\n        console.log(location);\n\n        // Return a second API call\n        // This one uses the token we received for authentication\n        return fetch(\n          \"https://api.petfinder.com/v2/animals?type=\" +\n            type +\n            \"&status=\" +\n            status +\n            \"&location=\" +\n            location,\n          {\n            headers: {\n              Authorization: data.token_type + \" \" + data.access_token,\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n          }\n        );\n      })\n      .then(function (resp) {\n        // Return the API response as JSON\n        return resp.json();\n      })\n      .then(function (data) {\n        // Log the pet data\n        console.log(\"pets\", data);\n      })\n      .catch(function (err) {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.giveData();\n    \n  };\n\n  handleLocation = (e) => {\n    console.log(\"hello: \", e.target.name, \"0-0-0-0-0-\", e.target.value);\n    this.setState({ [e.target.name]: e.target.value }, () =>\n      console.log(\"--------->\", this.state)\n    );\n  };\n\n  displayResults = () => {\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"location\"\n            placeholder=\"City or Zip Code\"\n            onChange={this.handleLocation}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}