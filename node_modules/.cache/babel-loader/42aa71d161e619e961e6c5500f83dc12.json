{"ast":null,"code":"import _defineProperty from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import AuthService from\"./auth-service\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",errorStatus:false,errorMsg:\"\"};_this.service=new AuthService();_this.handleFormSubmit=function(event){event.preventDefault();var username=_this.state.username;var password=_this.state.password;_this.service.login(username,password).then(function(response){_this.setState({username:\"\",password:\"\"});_this.props.getUser(response);_this.props.history.push(\"/profile/\".concat(response._id));}).catch(function(error){if(error.response){_this.setState({errorStatus:true,errorMsg:error.response.data.message});}});};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var errorStatus=this.state.errorStatus;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleFormSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:function onChange(e){return _this2.handleChange(e);},value:this.state.username}),/*#__PURE__*/_jsx(\"label\",{children:\" Password: \"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",onChange:function onChange(e){return _this2.handleChange(e);},value:this.state.password}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\"})]}),errorStatus?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:this.state.errorMsg}):/*#__PURE__*/_jsx(\"p\",{children:\"\\xA0\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have account?\",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\" Signup\"})]})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/auth/Login.js"],"names":["React","Component","AuthService","Link","Login","state","username","password","errorStatus","errorMsg","service","handleFormSubmit","event","preventDefault","login","then","response","setState","props","getUser","history","push","_id","catch","error","data","message","handleChange","target","name","value","e"],"mappings":"o5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,WAAW,CAAE,KAHP,CAINC,QAAQ,CAAE,EAJJ,C,OAORC,O,CAAU,GAAIR,CAAAA,WAAJ,E,OAEVS,gB,CAAmB,SAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACA,GAAMP,CAAAA,QAAQ,CAAG,MAAKD,KAAL,CAAWC,QAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAG,MAAKF,KAAL,CAAWE,QAA5B,CACA,MAAKG,OAAL,CACGI,KADH,CACSR,QADT,CACmBC,QADnB,EAEGQ,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAKC,QAAL,CAAc,CAAEX,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAAd,EACA,MAAKW,KAAL,CAAWC,OAAX,CAAmBH,QAAnB,EACA,MAAKE,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,oBAAoCL,QAAQ,CAACM,GAA7C,GACD,CANH,EAOGC,KAPH,CAOS,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACR,QAAV,CAAoB,CAClB,MAAKC,QAAL,CAAc,CACZT,WAAW,CAAE,IADD,CAEZC,QAAQ,CAAEe,KAAK,CAACR,QAAN,CAAeS,IAAf,CAAoBC,OAFlB,CAAd,EAID,CACF,CAdH,EAeD,C,OAEDC,Y,CAAe,SAACf,KAAD,CAAW,mBACAA,KAAK,CAACgB,MADN,CAChBC,IADgB,eAChBA,IADgB,CACVC,KADU,eACVA,KADU,CAExB,MAAKb,QAAL,oBAAiBY,IAAjB,CAAwBC,KAAxB,GACD,C,uDAED,iBAAS,iBACP,GAAMtB,CAAAA,WAAW,CAAG,KAAKH,KAAL,CAAWG,WAA/B,CACA,mBACE,oCACE,6BADF,cAEE,cAAM,QAAQ,CAAE,KAAKG,gBAArB,wBACE,sCADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,kBAACoB,CAAD,QAAO,CAAA,MAAI,CAACJ,YAAL,CAAkBI,CAAlB,CAAP,EAHZ,CAIE,KAAK,CAAE,KAAK1B,KAAL,CAAWC,QAJpB,EAFF,cAQE,sCARF,cASE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,kBAACyB,CAAD,QAAO,CAAA,MAAI,CAACJ,YAAL,CAAkBI,CAAlB,CAAP,EAHZ,CAIE,KAAK,CAAE,KAAK1B,KAAL,CAAWE,QAJpB,EATF,cAgBE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,EAhBF,GAFF,CAoBGC,WAAW,cACV,UAAG,SAAS,CAAC,OAAb,UAAsB,KAAKH,KAAL,CAAWI,QAAjC,EADU,cAGV,2BAvBJ,cAyBE,wDAEE,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,qBAFF,GAzBF,GADF,CAgCD,C,mBAtEiBR,S,EAyEpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport AuthService from \"./auth-service\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    errorStatus: false,\n    errorMsg: \"\",\n  };\n\n  service = new AuthService();\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n    this.service\n      .login(username, password)\n      .then((response) => {\n        this.setState({ username: \"\", password: \"\" });\n        this.props.getUser(response);\n        this.props.history.push(`/profile/${response._id}`);\n      })\n      .catch((error) => {\n        if (error.response) {\n          this.setState({\n            errorStatus: true,\n            errorMsg: error.response.data.message,\n          });\n        }\n      });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const errorStatus = this.state.errorStatus;\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label> Username: </label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            onChange={(e) => this.handleChange(e)}\n            value={this.state.username}\n          />\n          <label> Password: </label>\n          <input\n            name=\"password\"\n            type=\"password\"\n            onChange={(e) => this.handleChange(e)}\n            value={this.state.password}\n          />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n        {errorStatus ? (\n          <p className=\"error\">{this.state.errorMsg}</p>\n        ) : (\n          <p>&nbsp;</p>\n        )}\n        <p>\n          Don't have account?\n          <Link to={\"/signup\"}> Signup</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}