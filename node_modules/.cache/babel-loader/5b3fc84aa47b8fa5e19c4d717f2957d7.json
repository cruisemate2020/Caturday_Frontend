{"ast":null,"code":"var _jsxFileName = \"/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/PetFinderSearch.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PetFinderSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      location: \"\",\n      rescueCats: []\n    };\n\n    this.giveData = () => {\n      let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n      let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\"; // Call details\n\n      const type = \"cat\";\n      const status = \"adoptable\";\n      let location = this.state.location; // Call the API\n      // This is a POST request, because we need the API to generate a new token for us\n\n      fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n        method: \"POST\",\n        body: \"grant_type=client_credentials&client_id=\" + key + \"&client_secret=\" + secret,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(resp => {\n        // Return the response as JSON\n        return resp.json();\n      }).then(data => {\n        // Log the API data\n        // Return a second API call\n        // This one uses the token we received for authentication\n        return fetch(\"https://api.petfinder.com/v2/animals?type=\" + type + \"&status=\" + status + \"&location=\" + location, {\n          headers: {\n            Authorization: data.token_type + \" \" + data.access_token,\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        });\n      }).then(resp => {\n        // Return the API response as JSON\n        return resp.json();\n      }).then(data => {\n        this.setState({\n          rescueCats: data.animals\n        });\n      }).catch(err => {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.giveData();\n    };\n\n    this.handleLocation = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.allAvailableRescueCats = () => {\n      return this.state.rescueCats.map(eachRescueCat => {\n        var _eachRescueCat$primar;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cat\",\n            children: [!eachRescueCat.primary_photo_cropped ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"../images/home-is-where-the-cat-is.jpg\",\n              alt: \"Home is where the cat is\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: (_eachRescueCat$primar = eachRescueCat.primary_photo_cropped) === null || _eachRescueCat$primar === void 0 ? void 0 : _eachRescueCat$primar.small,\n              alt: \" unavailable\",\n              width: \"200vw\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: eachRescueCat.url,\n              target: \"_blank\",\n              rel: \"noreferrer\",\n              children: eachRescueCat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)\n        }, eachRescueCat._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Adopt A Cat Today!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"Enter your zip code\",\n          onChange: this.handleLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cat-grid\",\n        children: this.allAvailableRescueCats()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/imagine/IronHackWDPT/Final_Project_Final_Deployment/frontend/src/components/PetFinderSearch.js"],"names":["React","Component","PetFinderSearch","state","location","rescueCats","giveData","key","secret","type","status","fetch","method","body","headers","then","resp","json","data","Authorization","token_type","access_token","setState","animals","catch","err","console","log","handleSubmit","e","preventDefault","handleLocation","target","name","value","allAvailableRescueCats","map","eachRescueCat","primary_photo_cropped","small","url","_id","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nexport default class PetFinderSearch extends Component {\n  state = {\n    location: \"\",\n    rescueCats: [],\n  };\n\n  giveData = () => {\n    let key = \"Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1\";\n    let secret = \"EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7\";\n\n    // Call details\n    const type = \"cat\";\n    const status = \"adoptable\";\n    let location = this.state.location;\n\n    // Call the API\n    // This is a POST request, because we need the API to generate a new token for us\n    fetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n      method: \"POST\",\n      body:\n        \"grant_type=client_credentials&client_id=\" +\n        key +\n        \"&client_secret=\" +\n        secret,\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    })\n      .then((resp) => {\n        // Return the response as JSON\n        return resp.json();\n      })\n      .then((data) => {\n        // Log the API data\n\n        // Return a second API call\n        // This one uses the token we received for authentication\n        return fetch(\n          \"https://api.petfinder.com/v2/animals?type=\" +\n            type +\n            \"&status=\" +\n            status +\n            \"&location=\" +\n            location,\n          {\n            headers: {\n              Authorization: data.token_type + \" \" + data.access_token,\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n          }\n        );\n      })\n      .then((resp) => {\n        // Return the API response as JSON\n        return resp.json();\n      })\n      .then((data) => {\n        this.setState({ rescueCats: data.animals });\n      })\n      .catch((err) => {\n        // Log any errors\n        console.log(\"something went wrong\", err);\n      });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.giveData();\n  };\n\n  handleLocation = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  allAvailableRescueCats = () => {\n    return this.state.rescueCats.map((eachRescueCat) => {\n      return (\n        <div key={eachRescueCat._id}>\n          <div className=\"cat\">\n            {!eachRescueCat.primary_photo_cropped ? (\n              <img\n                src=\"../images/home-is-where-the-cat-is.jpg\"\n                alt=\"Home is where the cat is\"\n              />\n            ) : (\n              <img\n                src={eachRescueCat.primary_photo_cropped?.small}\n                alt=\" unavailable\"\n                width=\"200vw\"\n              />\n            )}\n            <br />\n            <a href={eachRescueCat.url} target=\"_blank\" rel=\"noreferrer\">\n              {eachRescueCat.name}\n            </a>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Adopt A Cat Today!</h1>\n        <form onSubmit={this.handleSubmit}>\n          <label></label><input\n            type=\"text\"\n            name=\"location\"\n            placeholder=\"Enter your zip code\"\n            onChange={this.handleLocation}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n        <div className=\"cat-grid\">{this.allAvailableRescueCats()}</div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}