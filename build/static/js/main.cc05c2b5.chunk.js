(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(20),r=a.n(s),c=(a(44),a(2)),i=a(3),o=a(5),l=a(7),d=a(6),j=(a(45),a(21)),h=a.n(j),u=a(37),b=a(4),p=a.n(b),O=a(38),m=(a(72),a(0)),g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"carousel-wrapper",children:Object(m.jsx)("div",{className:"centerCarousel",children:Object(m.jsxs)(O.Carousel,{infiniteLoop:!0,autoPlay:!0,showThumbs:!1,showStatus:!1,width:"300px",children:[Object(m.jsx)("div",{className:"carouselImgs",children:Object(m.jsx)("img",{src:"../images/Mao1a.jpg",alt:"Mao"})}),Object(m.jsx)("div",{className:"carouselImgs",children:Object(m.jsx)("img",{src:"../images/Mao2.jpg",alt:"Mao"})}),Object(m.jsx)("div",{className:"carouselImgs",children:Object(m.jsx)("img",{src:"../images/Mao3.jpg",alt:"Mao"})}),Object(m.jsx)("div",{className:"carouselImgs",children:Object(m.jsx)("img",{src:"../images/Mao4.jpg",alt:"Mao"})})]})})})}}]),a}(n.Component),x=a(8),f=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api.thecatapi.com/v1/breeds?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"https://everyday-is-caturday.herokuapp.com"}).xapikey));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("h1",{children:"Every Day is Caturday"}),Object(m.jsx)(g,{}),Object(m.jsx)("p",{className:"content-text",children:"Studies have shown that cats have a calming effect on their owners, from the soothing action of petting to purring being an aid in falling asleep. Cat owners can reduce tensions by just stroking their furry friend\u2019s head. Petting a cat releases endorphins into the brain, which makes you happier. Also, cats have the softest fur! Cats can even play a part in lowering your blood pressure and risk of a heart attack. One 10-year study has even shown that cat owners were 30% less likely to die of a heart attack or stroke than non-cat owners."}),Object(m.jsx)("h2",{children:Object(m.jsx)(x.b,{to:"/petFinderSearch",children:"Adopt a Cat Today!"})})]})}}]),a}(n.Component),v=a(11),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={cats:[],filteredCats:[],image:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.search=function(t){var a=e.state.cats.filter((function(e){if(e.name.toLowerCase().includes(t.target.value.toLowerCase())||e.description.toLowerCase().includes(t.target.value.toLowerCase())||e.temperament.toLowerCase().includes(t.target.value.toLowerCase()))return e}));e.setState({filteredCats:a})},e.allCats=function(){return e.state.filteredCats.map((function(e){var t;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"cat",children:[Object(m.jsx)("img",{src:null===(t=e.image)||void 0===t?void 0:t.url,alt:" unavailable",width:"200vw"}),Object(m.jsx)("br",{}),Object(m.jsx)(x.b,{to:"/cat-detail/".concat(e.id),children:Object(m.jsx)("h3",{children:e.name})})]})},e._id)})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://api.thecatapi.com/v1/breeds?key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"https://everyday-is-caturday.herokuapp.com"}).xapikey)).then((function(t){e.setState({cats:t.data,filteredCats:t.data}),p.a.get("https://api.thecatapi.com/v1/images/search?breed_id=".concat(e.props.match.params.id)).then((function(t){console.log({response:t}),e.setState({image:t.data[0].url})})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Cat Breeds"}),Object(m.jsxs)("label",{children:["Search the different cat breeds by name or keyword.",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{onChange:this.search,name:"search",placeholder:"\ud83d\udd0e",type:"text"})]}),Object(m.jsx)("p",{className:"cat-grid",children:this.allCats()})]})}}]),a}(n.Component),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={catDetails:{},image:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://api.thecatapi.com/v1/breeds/".concat(this.props.match.params.id,"?key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"https://everyday-is-caturday.herokuapp.com"}).xapikey)).then((function(t){e.setState({catDetails:t.data})})),p.a.get("https://api.thecatapi.com/v1/images/search?breed_id=".concat(this.props.match.params.id)).then((function(t){e.setState({image:t.data[0].url})})).catch((function(e){return console.log(e)}))}},{key:"colorRatings",value:function(e){for(var t=[],a=0;a<5;a++)e>0?t.push(Object(m.jsx)("div",{className:"brown-bg"},a)):t.push(Object(m.jsx)("div",{className:"no-bg"},a)),--e;return t}},{key:"render",value:function(){var e=this.state.hypoallergenic;return Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("h1",{children:["About ",this.state.catDetails.name," Cats"]}),Object(m.jsx)("img",{className:"cat-img",src:this.state.image,alt:"unavailable"}),Object(m.jsxs)("div",{className:"content-text",children:[Object(m.jsx)("p",{children:this.state.catDetails.description}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Temperament:"})," ",this.state.catDetails.temperament]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Hypoallergenic:"})," ",e?"Yes":"No"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Affection Level:"})," ",this.colorRatings(this.state.catDetails.affection_level).map((function(e,t){return e}))]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Energy Level:"}),this.colorRatings(this.state.catDetails.energy_level).map((function(e,t){return e}))]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Child Friendly:"})," ",this.colorRatings(this.state.catDetails.child_friendly).map((function(e,t){return e}))]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Dog Friendly:"})," ",this.colorRatings(this.state.catDetails.dog_friendly).map((function(e,t){return e}))]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"attributes",children:"Stranger Friendly:"})," ",this.colorRatings(this.state.catDetails.stranger_friendly).map((function(e,t){return e}))]}),Object(m.jsxs)("p",{children:["You can find additional information on ",this.state.catDetails.name," ","cats"," ",Object(m.jsx)("a",{href:this.state.catDetails.wikipedia_url,target:"_blank",rel:"noreferrer",children:"here"}),"."]})]})]})}}]),a}(n.Component),C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",age:"",breed:"",story:"",imageUrl:"",listOfStories:[],loggedInUser:null,hidden:!0},e.showAllStories=function(){return e.state.listOfStories.map((function(e){return Object(m.jsxs)("div",{className:"cat",children:[Object(m.jsx)("img",{className:"rescueImg",src:e.imageUrl,alt:"Cat Pic"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Name:"})," ",e.name,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Age:"})," ",e.age,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Breed:"})," ",e.breed,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Story:"})," ",e.story,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Made by:"})," ",e.userId.username,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{})]},e._id)}))},e.handleSubmit=function(t){t.preventDefault(),p.a.post("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story"),e.state,{withCredentials:!0}),e.props.history.push("/")},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleFileChange=function(e){var t=e.target.files[0];console.log("Image file",t)},e.showForm=function(){e.setState({hidden:!e.state.hidden})},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{loggedInUser:e.userInSession}))}},{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story")).then((function(t){console.log({response:t}),e.setState({listOfStories:t.data})}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Rescue Stories"}),this.state.loggedInUser&&Object(m.jsx)("button",{onClick:this.showForm,children:"Add story"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,hidden:this.state.hidden,children:[Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"name",placeholder:"Cat's Name"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{onChange:this.handleChange,type:"number",name:"age",placeholder:"Age"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"breed",placeholder:"Breed"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"Tell your cat's story:"}),Object(m.jsx)("br",{}),Object(m.jsx)("textarea",{onChange:this.handleChange,name:"story",cols:"80",rows:"10"}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"Show off your beautiful Furbaby!"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"file",name:"imageUrl",onChange:this.handleFileChange}),Object(m.jsx)("button",{children:"Submit"})]}),Object(m.jsx)("p",{className:"cat-grid",children:this.showAllStories()})]})}}]),a}(n.Component),N=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n,s,r,c){return t.service.post("/signup",{username:e,password:a,firstName:n,lastName:s,location:r,email:c}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=p.a.create({baseURL:"".concat("https://everyday-is-caturday.herokuapp.com","/api"),withCredentials:!0});this.service=a},w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",firstName:"",lastName:"",email:"",location:"",errorStatus:!1,errorMsg:""},e.service=new N,e.handleFormSubmit=function(t){t.preventDefault();var a=e.state.username,n=e.state.password,s=e.state.firstName,r=e.state.lastName,c=e.state.location,i=e.state.email;e.service.signup(a,n,s,r,c,i).then((function(t){e.setState({username:"",password:"",firstName:"",lastName:"",location:"",email:""}),e.props.getUser(t),e.props.history.push("/profile/".concat(t._id))})).catch((function(t){t.response&&e.setState({errorStatus:!0,errorMsg:t.response.data.message})}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(v.a)({},n,s))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errorStatus;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsx)("p",{className:"required",children:"Fields denoted with an '*' are required."}),Object(m.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"required",children:"* "}),"First Name:\xa0\xa0"]}),Object(m.jsx)("input",{type:"text",name:"firstName",value:this.state.firstName,required:!0,onChange:function(t){return e.handleChange(t)}}),Object(m.jsx)("label",{children:" Last Name: "}),Object(m.jsx)("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:" Location: "}),Object(m.jsx)("input",{type:"text",name:"location",value:this.state.location,onChange:function(t){return e.handleChange(t)}}),Object(m.jsxs)("label",{children:["\xa0\xa0",Object(m.jsx)("span",{className:"required",children:"* "}),"Email:\xa0\xa0"]}),Object(m.jsx)("input",{type:"email",name:"email",required:!0,value:this.state.email,onChange:function(t){return e.handleChange(t)}}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:Object(m.jsx)("label",{children:"Create your Login"})}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{className:"required",children:"* "}),"Username:\xa0\xa0"]}),Object(m.jsx)("input",{type:"text",name:"username",required:!0,value:this.state.username,onChange:function(t){return e.handleChange(t)}}),Object(m.jsxs)("label",{children:["\xa0\xa0",Object(m.jsx)("span",{className:"required",children:"* "}),"Password:\xa0\xa0"]}),Object(m.jsx)("input",{name:"password",type:"password",required:!0,value:this.state.password,onChange:function(t){return e.handleChange(t)}}),Object(m.jsx)("p",{children:Object(m.jsx)("button",{children:"Sign Up"})})]}),t?Object(m.jsx)("p",{className:"error",children:this.state.errorMsg}):Object(m.jsx)("p",{children:"\xa0"}),Object(m.jsxs)("p",{children:["Already have account?",Object(m.jsx)(x.b,{to:"/login",children:" Login"})]})]})}}]),a}(n.Component),U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,listOfUserStories:[],editedName:"",editedBreed:"",editedAge:"",editedStory:"",username:"",firstName:"",lastName:"",location:"",email:"",hidden:!0},e.showAllStories=function(){return e.state.listOfUserStories.map((function(t){if(t.userId._id===e.state.loggedInUser._id)return Object(m.jsxs)("div",{className:"cat",children:[Object(m.jsx)("img",{className:"rescueImg",src:t.imageUrl,alt:"Cat Pic"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Name:"})," ",t.name,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Age:"})," ",t.age,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Breed:"})," ",t.breed,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Story:"})," ",t.story,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"attributes",children:"Made by:"})," ",t.userId.username,Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"stories-btn",children:[Object(m.jsx)("button",{onClick:function(){return e.deleteStory(t._id)},children:"Delete"}),Object(m.jsx)(x.b,{to:"/edit/".concat(t._id),children:Object(m.jsx)("button",{children:"Edit"})})]})]},t._id)}))},e.deleteStory=function(t){console.log("deleting story:",t),p.a.delete("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story/delete/").concat(t)).then((function(t){console.log("deleted frontend",t),e.props.history.push("/rescueStories")})).catch((function(e){return console.log(e)}))},e.editStory=function(t){var a=e.state.editedName,n=e.state.editedBreed,s=e.state.editedAge,r=e.state.editedStory;p.a.put("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story/edit/").concat(t),{name:a,breed:n,age:s,story:r}).then((function(){e.props.history.push("/rescueStories")})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),p.a.put("".concat("https://everyday-is-caturday.herokuapp.com","/api/edit-user/").concat(e.props.match.params.id),e.state,{withCredentials:!0})},e.showForm=function(){e.setState({hidden:!e.state.hidden})},e.hideForm=function(){e.setState({hidden:!0})},e.editProfileForm=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:e.showForm,children:"Update personal info"}),Object(m.jsxs)("form",{onSubmit:e.handleSubmit,hidden:e.state.hidden,children:[Object(m.jsxs)("label",{children:["Username:",Object(m.jsx)("input",{className:"username",value:e.state.username,name:"username",type:"text",readOnly:!0})]}),Object(m.jsxs)("label",{children:["First name:",Object(m.jsx)("input",{onChange:e.handleChange,value:e.state.firstName,name:"firstName",type:"text"})]}),Object(m.jsxs)("label",{children:["Last name:",Object(m.jsx)("input",{onChange:e.handleChange,value:e.state.lastName,name:"lastName",type:"text"})]}),Object(m.jsxs)("label",{children:["Location:",Object(m.jsx)("input",{onChange:e.handleChange,value:e.state.location,name:"location",type:"text"})]}),Object(m.jsxs)("label",{children:["Email:",Object(m.jsx)("input",{onChange:e.handleChange,value:e.state.email,name:"email",type:"email"})]}),Object(m.jsx)("button",{onClick:e.hideForm,children:"Update"})]})]})},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{loggedInUser:e.userInSession}))}},{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story")).then((function(t){e.setState({listOfUserStories:t.data,loggedInUser:e.props.userInSession?e.props.userInSession:null})})),p.a.get("".concat("https://everyday-is-caturday.herokuapp.com","/api/profile/").concat(this.props.match.params.id)).then((function(t){e.setState({username:t.data.username,firstName:t.data.firstName,lastName:t.data.lastName,location:t.data.location,email:t.data.email})}))}},{key:"render",value:function(){return this.state.loggedInUser?Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Profile"}),Object(m.jsxs)("div",{children:["Welcome, ",this.state.firstName," ",this.state.lastName,Object(m.jsx)("br",{}),this.state.location,Object(m.jsx)("br",{}),this.state.email]}),Object(m.jsx)("p",{children:this.editProfileForm()}),Object(m.jsxs)("h2",{children:[this.state.username,"'s Rescue Stories"]}),Object(m.jsx)("div",{className:"cat-grid",children:this.showAllStories()})]}):Object(m.jsx)("div",{children:"\xa0"})}}]),a}(n.Component),_=a(9),k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",errorStatus:!1,errorMsg:""},e.service=new N,e.handleFormSubmit=function(t){t.preventDefault();var a=e.state.username,n=e.state.password;e.service.login(a,n).then((function(t){e.setState({username:"",password:""}),e.props.getUser(t),e.props.history.push("/profile/".concat(t._id))})).catch((function(t){t.response&&e.setState({errorStatus:!0,errorMsg:t.response.data.message})}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(v.a)({},n,s))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.errorStatus;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(m.jsx)("label",{children:" Username: "}),Object(m.jsx)("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)},value:this.state.username}),Object(m.jsx)("label",{children:" Password: "}),Object(m.jsx)("input",{name:"password",type:"password",onChange:function(t){return e.handleChange(t)},value:this.state.password}),Object(m.jsx)("input",{type:"submit",value:"Login"})]}),t?Object(m.jsx)("p",{className:"error",children:this.state.errorMsg}):Object(m.jsx)("p",{children:"\xa0"}),Object(m.jsxs)("p",{children:["Don't have account?",Object(m.jsx)(x.b,{to:"/signup",children:" Signup"})]})]})}}]),a}(n.Component),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={location:"",rescueCats:[]},e.giveData=function(){var t=e.state.location;fetch("https://api.petfinder.com/v2/oauth2/token",{method:"POST",body:"grant_type=client_credentials&client_id=Ww2Mo8xNzXhbFxBtwEN3er2rnOqCUAmamXIQ1AhdCA0Yd4ueb1&client_secret=EkIYCERn1x0yevjN5f1VPwEXgaP7pNQ07s3bBBG7",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){return fetch("https://api.petfinder.com/v2/animals?type=cat&status=adoptable&location="+t,{headers:{Authorization:e.token_type+" "+e.access_token,"Content-Type":"application/x-www-form-urlencoded"}})})).then((function(e){return e.json()})).then((function(t){e.setState({rescueCats:t.animals})})).catch((function(e){console.log("something went wrong",e)}))},e.handleSubmit=function(t){t.preventDefault(),e.giveData()},e.handleLocation=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.allAvailableRescueCats=function(){return e.state.rescueCats.map((function(e){var t;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"cat",children:[e.primary_photo_cropped?Object(m.jsx)("img",{src:null===(t=e.primary_photo_cropped)||void 0===t?void 0:t.small,alt:" unavailable",width:"200vw"}):Object(m.jsx)("img",{src:"../images/home-is-where-the-cat-is.jpg",alt:"Home is where the cat is"}),Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.name})]})},e._id)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Adopt A Cat Today!"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("input",{type:"text",name:"location",placeholder:"Enter your zip code",onChange:this.handleLocation}),Object(m.jsx)("button",{type:"submit",children:"Search"})]}),Object(m.jsx)("div",{className:"cat-grid",children:this.allAvailableRescueCats()})]})}}]),a}(n.Component),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,editedName:"",editedBreed:"",editedAge:"",editedStory:"",story:{}},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){var a=e.props.match.params,n=e.state.editedName,s=e.state.editedBreed,r=e.state.editedAge,c=e.state.editedStory;t.preventDefault(),p.a.put("".concat("https://everyday-is-caturday.herokuapp.com","/api/edit/").concat(a.id),{name:n,breed:s,age:r,story:c}).then((function(){e.props.history.push("/profile/".concat(e.props.userInSession._id))})).catch((function(e){return console.log(e)}))},e.showForm=function(){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsxs)("label",{children:["Name:",Object(m.jsx)("input",{type:"text",onChange:e.handleChange,name:"editedName",value:e.state.editedName})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Breed:",Object(m.jsx)("input",{type:"text",onChange:e.handleChange,name:"editedBreed",value:e.state.editedBreed})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Age:",Object(m.jsx)("input",{type:"number",onChange:e.handleChange,name:"editedAge",value:e.state.editedAge})]}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"Tell your cat's story:"}),Object(m.jsx)("br",{}),Object(m.jsx)("textarea",{type:"text",onChange:e.handleChange,name:"editedStory",value:e.state.editedStory,cols:"80",rows:"10"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{children:"Save"})]})},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{loggedInUser:e.userInSession}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;p.a.get("".concat("https://everyday-is-caturday.herokuapp.com","/api/editstory/").concat(t.id)).then((function(t){e.setState({loggedInUser:e.props.userInSession?e.props.userInSession:null,editedName:t.data.name,editedBreed:t.data.breed,editedAge:t.data.age,editedStory:t.data.story})})).catch((function(e){return console.log(e.response.data)})),console.log(this.props)}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Edit Your Profile"}),this.showForm()]})}}]),a}(n.Component),D=p.a.create({baseURL:"".concat("https://everyday-is-caturday.herokuapp.com","/api")}),E=function(e){throw e};function R(e){return console.log("file in service: ",e),D.post("/upload",e).then((function(e){return e.data})).catch(E)}var F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,name:"",age:"",breed:"",story:"",imageUrl:""},e.handleSubmit=function(t){t.preventDefault(),console.log({theState:e.state}),p.a.post("".concat("https://everyday-is-caturday.herokuapp.com","/api/rescue-story"),e.state,{withCredentials:!0}).then((function(t){console.log({storyres:t.data}),e.props.history.push("/rescueStories")})).catch((function(e){console.log("Error while adding the thing: ",e.response.data)}))},e.handleFileUpload=function(t){var a=new FormData;console.log({thefile:t}),a.append("imageUrl",t.target.files[0]),R(a).then((function(t){console.log({responsefile:t}),e.setState({imageUrl:t.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{loggedInUser:e.userInSession})),console.log(this.state.loggedInUser),this.setState({loggedInUser:this.props.userInSession?this.props.userInSession:null})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Add Your Cat's Story"}),Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("p",{children:Object(m.jsx)("h2",{children:"Share a story about your furbaby!"})}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{className:"attributes",children:["Upload a picture:",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"name",placeholder:"Cat's Name"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{onChange:this.handleChange,type:"number",name:"age",placeholder:"Age"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("input",{onChange:this.handleChange,type:"text",name:"breed",placeholder:"Breed"})," ",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("textarea",{onChange:this.handleChange,name:"story",cols:"80",rows:"10"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{children:"Submit"})]})]})]})}}]),a}(n.Component),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null},e.service=new N,e.getTheUser=function(t){e.setState({loggedInUser:t})},e.logoutUser=function(){console.log("appjs"),e.service.logout().then((function(){e.setState({loggedInUser:null})}))},e}return Object(o.a)(a,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?(this.fetchUser(),Object(m.jsxs)("div",{children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)("img",{src:"../images/catIcon.png",alt:"cat-icon"}),Object(m.jsx)(x.b,{to:"/",children:"Home"}),Object(m.jsx)(x.b,{to:"/cat-list",children:"Cat Breeds"}),Object(m.jsx)(x.b,{to:"/rescueStories",children:"Rescue Stories"}),Object(m.jsx)(x.b,{to:"/addstory",children:"Add Story"}),Object(m.jsx)(x.b,{to:"/profile/".concat(this.state.loggedInUser._id),children:"Profile"}),Object(m.jsx)(x.b,{to:"/",children:Object(m.jsx)("button",{onClick:this.logoutUser,children:"Logout "})})]}),Object(m.jsxs)(_.c,{children:[Object(m.jsx)(_.a,{exact:!0,path:"/",render:function(e){return Object(m.jsx)(f,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/cat-list",render:function(e){return Object(m.jsx)(y,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/cat-detail/:id",render:function(e){return Object(m.jsx)(S,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/signup",render:function(t){return Object(m.jsx)(w,Object(c.a)({getUser:e.getTheUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/login",render:function(t){return Object(m.jsx)(k,Object(c.a)({getUser:e.getTheUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/rescueStories",render:function(t){return Object(m.jsx)(C,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/addstory",render:function(t){return Object(m.jsx)(F,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/profile/:id",render:function(t){return Object(m.jsx)(U,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/edit/:id",render:function(t){return Object(m.jsx)(A,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/petFinderSearch",render:function(e){return Object(m.jsx)(I,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/carousel",render:function(e){return Object(m.jsx)(g,Object(c.a)({},e))}})]})]})):Object(m.jsxs)("div",{children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)("img",{src:"./images/catIcon.png",alt:"catLogo"}),Object(m.jsx)(x.b,{to:"/",children:"Home"}),Object(m.jsx)(x.b,{to:"/cat-list",children:"Cat Breeds"}),Object(m.jsx)(x.b,{to:"/rescueStories",children:"Rescue Stories"}),Object(m.jsx)(x.b,{to:"/login",children:"Login/Signup"})]}),Object(m.jsxs)(_.c,{children:[Object(m.jsx)(_.a,{exact:!0,path:"/",render:function(e){return Object(m.jsx)(f,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/cat-list",render:function(e){return Object(m.jsx)(y,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/edit/:id",render:function(t){return Object(m.jsx)(A,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/cat-detail/:id",render:function(e){return Object(m.jsx)(S,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/signup",render:function(t){return Object(m.jsx)(w,Object(c.a)({getUser:e.getTheUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/login",render:function(t){return Object(m.jsx)(k,Object(c.a)({getUser:e.getTheUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/rescueStories",render:function(t){return Object(m.jsx)(C,Object(c.a)({userInSession:e.state.loggedInUser},t))}}),Object(m.jsx)(_.a,{exact:!0,path:"/petFinderSearch",render:function(e){return Object(m.jsx)(I,Object(c.a)({},e))}}),Object(m.jsx)(_.a,{exact:!0,path:"/profile",render:function(t){return Object(m.jsx)(U,Object(c.a)({user:e.state.user,setUser:e.setUser},t))}})]})]})}}]),a}(n.Component),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};r.a.render(Object(m.jsx)(x.a,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),L()}},[[80,1,2]]]);
//# sourceMappingURL=main.cc05c2b5.chunk.js.map